import{a as l}from"./assets/vendor-0cb09735.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function L(){const e=document.querySelector(".toggle-theme");let t=document.documentElement;e.addEventListener("click",n=>{n.preventDefault(),t.hasAttribute("data-theme")?(t.removeAttribute("data-theme"),localStorage.removeItem("theme")):(t.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"))}),localStorage.getItem("theme")!==null&&t.setAttribute("data-theme","dark")}L();l.defaults.baseURL="https://books-backend.p.goit.global/books";const u={getCategoryList:async function(){try{return(await l.get("/category-list")).data}catch(e){console.log(e)}},getBestSellers:async function(){try{return(await l.get("/top-books")).data}catch(e){console.log(e)}},getCategory:async function(e){try{return(await l.get(`/category?category=${e}`)).data}catch(t){console.log(t)}},getBookDescription:async function(e){try{return(await l.get(`/${e}`)).data}catch(t){console.log(t)}}};function v(e,t){const n=document.querySelector(e),r=t.split(" "),o=r[r.length-1];r.pop(),t=r.join(" "),n.insertAdjacentHTML("afterbegin",`<h1 class="page-title">${t} <span class="page-title-highlight">${o}</span></h1>`)}function S({title:e,author:t,book_image:n}){return`<li class="book-category-item">
  <div class="book-category-card">
    <img class="book-category-image" src="${n}" alt="Book cover" width="180" />
    <div class="book-category-text">
      <h3 class = "book-title">
      ${e}</h3>
      <p class = "author-name"> ${t}</p>
    </div>
  </div>
</li>`}function y(e){const t=document.querySelector(".bestsellers-container");t.innerHTML="",v(".bestsellers-container","Best Sellers Books"),t.insertAdjacentHTML("beforeend",'<ul class="bestsellers-list"></ul>');const n=document.querySelector(".bestsellers-list"),r=e.map(({books:o,list_name:s})=>`
            <li class="bestsellers-item">
             <h2 class="bestsellers-category-title">${s}</h2>
                <ul class="bestsellers-books-list"> 
                    ${o.map(({book_image:c,title:a,author:i})=>S({book_image:c,title:a,author:i})).join(`
`)}
                </ul>
                <button class="bestsellers-btn" type="button data-category="${s}">See more</button>
            </li>`).join(`
`);n.insertAdjacentHTML("beforeend",r)}async function w(){try{const e=await u.getBestSellers();return y(e)}catch(e){console.error("Error fetching best sellers:",e)}}w();function C(e,t){const n=document.querySelector(e),r=t.split(" "),o=r[r.length-1];r.pop(),t=r.join(" "),n.insertAdjacentHTML("afterbegin",`<h1 class="page-title">${t} <span class="page-title-highlight">${o}</span></h1>`)}function B({title:e,author:t,book_image:n}){return`<li class="book-category-item">
  <div class="book-category-card">
    <img class="book-category-image" src="${n}" alt="Book cover" width="180" />
    <div class="book-category-text">
      <h3 class = "book-title">
      ${e}</h3>
      <p class = "author-name"> ${t}</p>
    </div>
  </div>
</li>`}function I(e,t){const n=document.querySelector(".bestsellers-container");n.innerHTML="",C(".bestsellers-container",t),n.insertAdjacentHTML("beforeend",'<ul class = "book-category-list"></ul>');const r=document.querySelector(".book-category-list"),o=e.map(({author:s,book_image:c,title:a,_id:i})=>B({author:s,book_image:c,title:a,_id:i})).join("");r.innerHTML=o}const g={categoryContainer:document.querySelector(".sidebar-category-container"),categoryList:document.querySelector(".sidebar-category-list"),allCategory:document.querySelector(".all-category")};function $(e){return e.map(n=>`<li class='sidebar-category-item' data-source="${n.list_name}">${n.list_name}</li>`).join("")}(async()=>{try{const e=await u.getCategoryList(),t=$(e);g.categoryList.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e)}})();g.allCategory.addEventListener("click",async e=>{try{const t=await u.getBestSellers();y(t)}catch(t){console.log(t)}});g.categoryList.addEventListener("click",async e=>{if(e.target.classList.contains("sidebar-category-item")){const t=e.target.dataset.source;document.querySelectorAll(".sidebar-category-item").forEach(r=>{r.classList.remove("category-active")}),e.target.classList.add("category-active");try{if(!e.target.classList.contains("all-category")){const r=await u.getCategory(t);I(r,t)}}catch(r){console.log(r)}}});document.addEventListener("DOMContentLoaded",function(){const e=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:null},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:null},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:null},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:null},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:null},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:null},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:null},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:null},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:null}],t=document.getElementById("fundList"),n=document.getElementById("loadMore");let r=6;function o(){for(let s=r;s<r+3&&s<e.length;s++){const c=document.createElement("li");c.textContent=e[s],t.appendChild(c)}r+=3}o(),n.addEventListener("click",function(){o()})});async function E(e){h.innerHTML="";const t=await u.getCategory(e);M(t)}function M(e){const n=`<h2 class="category-page-title">Hardcover<span class="category-titel-color"> Fiction</span></h2>
        <ul class="category-books">
        ${e.map(({_id:r,book_image:o,title:s,author:c})=>`<li class="category-book-card" id="${r}">
        <div class="category-box-overlay">
            <img class="category-book-image" src="${o}" alt="Book">
            <p class="category-overlay">Quick view</p>
        </div>
        <div class="category-book-text">
            <h3 class="category-book-title">${s}</h3>
            <p class="category-book-description">${c}</p>
        </div>
        </li>`).join("")}
        </ul>`;h.insertAdjacentHTML("afterbegin",n)}class P{constructor(){this.keyName="shopping-list"}getProducts(){const t=localStorage.getItem(this.keyName);return t!==null?JSON.parse(t):[]}checkProduct(t){let n=this.getProducts(),r=n.findIndex(s=>s.id==t);const o={hasProd:!1,index:r,arrProd:n};return r!==-1&&(o.hasProd=!0),o}putProducts(t){let{hasProd:n,index:r,arrProd:o}=this.checkProduct(t.id);n!==!0?o.push(t):o.splice(r,1),localStorage.setItem(this.keyName,JSON.stringify(o))}}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("modal"),t=document.querySelector(".close"),n=document.querySelector(".add-to-cart"),r=new P;function o(){e.style.display="none",document.body.style.overflow="auto"}t.addEventListener("click",o),e.addEventListener("click",function(a){a.target===e&&o()}),document.addEventListener("keydown",function(a){a.key==="Escape"&&o()});function s(a){const i=e.querySelector(".book-cover"),f=e.querySelector(".book-title"),k=e.querySelector(".author"),b=e.querySelector(".description"),m=e.querySelector(".links");i.src=a.coverImageUrl,f.textContent=a.title,k.textContent="Author: "+a.author,b.textContent=a.description,m.innerHTML="",a.links.forEach(function(p){const d=document.createElement("a");d.href=p.url,d.textContent=p.name,d.target="_blank",m.appendChild(d)}),r.checkProduct(a.id).hasProd?n.textContent="Remove from Shopping List":n.textContent="Add to Shopping List"}s({id:1,coverImageUrl:"https://example.com/book-cover.jpg",title:"Example Book Title",author:"John Doe",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",links:[{name:"Amazon",url:"https://www.amazon.com"},{name:"Apple Books",url:"https://books.apple.com"}]})});const h=document.querySelector(".home-page");E("Hardcover Fiction");
//# sourceMappingURL=commonHelpers.js.map
