{"version":3,"file":"commonHelpers.js","sources":["../src/js/localStorage.js","../src/js/shopping-list.js"],"sourcesContent":["export class LocalStorage {\n    constructor () {\n        this.keyName = 'shopping-list';\n    }\n    \n    // Повертає пустий массив якщо сховище пусте. Або повертає массив обьектів з книгами\n    getProducts() {\n        const productsLocalStorage = localStorage.getItem(this.keyName);\n        if (productsLocalStorage !== null) {\n            return JSON.parse(productsLocalStorage);\n        }\n        return [];\n    }\n\n    // Перевіряє чи книга є в локальному сховищі\n    // Повертає true якщо є книга чи false якщо немає\n    checkProduct(id) {\n        let products = this.getProducts();\n        let index = products.findIndex(item => item.id == id);\n        const obj = {\n            hasProd: false,\n            index: index,\n            arrProd: products\n        }\n        if(index !== -1) {\n            obj.hasProd = true;\n        }\n            return obj;\n    }\n\n    // Додає/видаляє книгу з сховища\n    // З модалки передавати обєкт з інфо про книгу\n    // З shoppingList для видалення передавати обєкт з id типу {id: '155451558'}\n    putProducts(books) {\n        let {hasProd, index, arrProd} = this.checkProduct(books.id);\n        if(hasProd !== true) {\n            arrProd.push(books);\n        } else {\n            arrProd.splice(index, 1);\n        } \n        localStorage.setItem(this.keyName, JSON.stringify(arrProd));\n    }\n}","import { LocalStorage } from '../js/localStorage.js';\nconst localStorage = new LocalStorage();\n\n// Отримуємо збережені книги з localStorage\nconst savedBooks = localStorage.getProducts();\n\n// Відображаємо книги на сторінці Shopping list\nfunction displayBooks() {\n    const bookList = document.getElementById('bookList');\n\n    // Очищаємо список перед відображенням книг\n    bookList.innerHTML = '';\n\n    // Перевірка, чи є дані у localStorage або він доступний\n    if (savedBooks.length === 0 || !localStorage) {\n        // Якщо localStorage порожній або недоступний, відображаємо статичне зображення\n        bookList.innerHTML = `\n            <li>\n                <picture>\n                    <source srcset=\"../images/shopping-list/placeholder.webp\" type=\"image/webp\">\n                    <source srcset=\"../images/shopping-list/placeholder.png\" type=\"image/png\">\n                    <source srcset=\"../images/shopping-list/placeholder2x.webp\" type=\"image/webp\">\n                    <source srcset=\"../images/shopping-list/placeholder2x.png\" type=\"image/png\">\n                    <img src=\"../images/shopping-list/placeholder.png\" alt=\"No Books Added\">\n                </picture>\n            </li>`;\n        return;\n    }\n\n    // Додаємо кожну збережену книгу до списку\n    savedBooks.forEach(book => {\n        const li = document.createElement('li');\n        li.textContent = book;\n        bookList.appendChild(li);\n    });\n}\n\n// Викликаємо функцію для відображення книг при завантаженні сторінки\ndisplayBooks();\n\n"],"names":["LocalStorage","productsLocalStorage","id","products","index","item","obj","books","hasProd","arrProd","localStorage","savedBooks","displayBooks","bookList","book","li"],"mappings":"uCAAO,MAAMA,CAAa,CACtB,aAAe,CACX,KAAK,QAAU,eAClB,CAGD,aAAc,CACV,MAAMC,EAAuB,aAAa,QAAQ,KAAK,OAAO,EAC9D,OAAIA,IAAyB,KAClB,KAAK,MAAMA,CAAoB,EAEnC,EACV,CAID,aAAaC,EAAI,CACb,IAAIC,EAAW,KAAK,cAChBC,EAAQD,EAAS,UAAUE,GAAQA,EAAK,IAAMH,CAAE,EACpD,MAAMI,EAAM,CACR,QAAS,GACT,MAAOF,EACP,QAASD,CACZ,EACD,OAAGC,IAAU,KACTE,EAAI,QAAU,IAEPA,CACd,CAKD,YAAYC,EAAO,CACf,GAAI,CAAC,QAAAC,EAAS,MAAAJ,EAAO,QAAAK,CAAO,EAAI,KAAK,aAAaF,EAAM,EAAE,EACvDC,IAAY,GACXC,EAAQ,KAAKF,CAAK,EAElBE,EAAQ,OAAOL,EAAO,CAAC,EAE3B,aAAa,QAAQ,KAAK,QAAS,KAAK,UAAUK,CAAO,CAAC,CAC7D,CACL,CCzCA,MAAMC,EAAe,IAAIV,EAGnBW,EAAaD,EAAa,cAGhC,SAASE,GAAe,CACpB,MAAMC,EAAW,SAAS,eAAe,UAAU,EAMnD,GAHAA,EAAS,UAAY,GAGjBF,EAAW,SAAW,GAAK,CAACD,EAAc,CAE1CG,EAAS,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAUrB,MACH,CAGDF,EAAW,QAAQG,GAAQ,CACvB,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,YAAcD,EACjBD,EAAS,YAAYE,CAAE,CAC/B,CAAK,CACL,CAGAH,EAAc"}