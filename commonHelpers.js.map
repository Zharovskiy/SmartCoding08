{"version":3,"file":"commonHelpers.js","sources":["../src/js/shopping-list.js"],"sourcesContent":["import amazonImg from \"../images/shopping-list/amazon.png\";\nimport amazonWebp from \"../images/shopping-list/amazon.webp\";\nimport appleBook from \"../images/shopping-list/apple.png\";\nimport appleWebp from \"../images/shopping-list/apple.webp\";\nimport sprite from \"../images/sprite.svg\";\nconst listContainer = document.querySelector('.js-shopping-list');\n// Отримуємо дані з локального сховища за ключем 'bookList'\nconst loadFromLocalStorage = (key) => {\n  try {\n    const serializedData = localStorage.getItem(key);\n    return serializedData ? JSON.parse(serializedData) : [];\n  } catch (error) {\n    console.error('Error loading data from local storage:', error.message);\n    return [];\n  }\n};\n// Зберігаємо дані у локальному сховищі за ключем 'bookList'\nconst saveToLocalStorage = (key, data) => {\n  try {\n    const serializedData = JSON.stringify(data);\n    localStorage.setItem(key, serializedData);\n  } catch (error) {\n    console.error('Error saving data to local storage:', error.message);\n  }\n};\n// Видаляємо книгу за ідентифікатором\nconst deleteBook = (id, key) => {\n  const bookStorage = loadFromLocalStorage(key);\n  const updatedStorage = bookStorage.filter(book => book._id !== id);\n  saveToLocalStorage(key, updatedStorage);\n  renderData(updatedStorage);\n};\n// Рендеримо дані на сторінку\nconst renderData = (data) => {\n  if (data && data.length > 0) {\n    const markup = data.map(book => `\n      <li class=\"shop-cart-container\" data-id=\"${book._id}\">\n        <div class=\"shop-cart-wrap\">\n          <div class=\"shop-image-wrapper\">\n            <img class=\"shop-image\" src=\"${book.book_image}\" alt=\"${book.title}\">\n          </div>\n          <div class=\"shop-cart-info\">\n            <!-- Решта розмітки для кожної книги -->\n            <button class=\"shop-cart-btn-delete\" data-id=\"${book._id}\">\n              Delete\n            </button>\n          </div>\n        </div>\n      </li>\n    `).join('');\n    listContainer.innerHTML = `<ul class=\"shop-cart-list\">${markup}</ul>`;\n    // Додаємо обробник подій для кожної кнопки видалення\n    const deleteButtons = document.querySelectorAll('.shop-cart-btn-delete');\n    deleteButtons.forEach(button => {\n      button.addEventListener('click', () => {\n        const bookId = button.dataset.id;\n        deleteBook(bookId, 'bookList');\n      });\n    });\n  } else {\n    listContainer.innerHTML = emptyShoppingMarkup();\n  }\n};\n// Завантажуємо дані з локального сховища при завантаженні сторінки\ndocument.addEventListener('DOMContentLoaded', () => {\n  const key = 'bookList';\n  const bookStorage = loadFromLocalStorage(key);\n  renderData(bookStorage);\n  // Додайте інші функції чи виклики, які вам потрібні\n});\nfunction emptyShoppingMarkup() {\n  return `\n    <p class=\"shopping-list-text\">This page is empty, add some books and proceed to order.</p>\n    <picture>\n      <!-- Тут ви можете вставити вашу розмітку для зображення -->\n      <source media=\"(min-width: 768px)\" srcset=\"\n        ${book322_1} 1x,\n        ${book322_2} 2x\n      \" type=\"image/webp\" />\n      <source media=\"(min-width: 768px)\" srcset=\"\n        ${book322_11} 1x,\n        ${book322_22} 2x\n      \" type=\"image/png\" />\n      <source media=\"(max-width: 767px)\" srcset=\"\n        ${book265_1} 1x,\n        ${book265_2} 2x\n      \" type=\"image/webp\" />\n      <source media=\"(max-width: 767px)\" srcset=\"\n        ${book265_11} 1x,\n        ${book265_22} 2x\n      \" type=\"image/png\" />\n      <!-- Тут може бути додаткова розмітка для зображення -->\n      <img class=\"shopping-list-image\" src=\"${book265_1}\" alt=\"Books\" loading=\"lazy\" />\n    </picture>\n  `};"],"names":["listContainer","loadFromLocalStorage","key","serializedData","error","saveToLocalStorage","data","deleteBook","id","updatedStorage","book","renderData","markup","button","bookId","emptyShoppingMarkup","bookStorage"],"mappings":"uCAKA,MAAMA,EAAgB,SAAS,cAAc,mBAAmB,EAE1DC,EAAwBC,GAAQ,CACpC,GAAI,CACF,MAAMC,EAAiB,aAAa,QAAQD,CAAG,EAC/C,OAAOC,EAAiB,KAAK,MAAMA,CAAc,EAAI,CAAA,CACtD,OAAQC,EAAO,CACd,eAAQ,MAAM,yCAA0CA,EAAM,OAAO,EAC9D,EACR,CACH,EAEMC,EAAqB,CAACH,EAAKI,IAAS,CACxC,GAAI,CACF,MAAMH,EAAiB,KAAK,UAAUG,CAAI,EAC1C,aAAa,QAAQJ,EAAKC,CAAc,CACzC,OAAQC,EAAO,CACd,QAAQ,MAAM,sCAAuCA,EAAM,OAAO,CACnE,CACH,EAEMG,EAAa,CAACC,EAAIN,IAAQ,CAE9B,MAAMO,EADcR,EAAqBC,CAAG,EACT,OAAOQ,GAAQA,EAAK,MAAQF,CAAE,EACjEH,EAAmBH,EAAKO,CAAc,EACtCE,EAAWF,CAAc,CAC3B,EAEME,EAAcL,GAAS,CAC3B,GAAIA,GAAQA,EAAK,OAAS,EAAG,CAC3B,MAAMM,EAASN,EAAK,IAAII,GAAQ;AAAA,iDACaA,EAAK,GAAG;AAAA;AAAA;AAAA,2CAGdA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,4DAIlBA,EAAK,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAM/D,EAAE,KAAK,EAAE,EACVV,EAAc,UAAY,8BAA8BY,CAAM,QAExC,SAAS,iBAAiB,uBAAuB,EACzD,QAAQC,GAAU,CAC9BA,EAAO,iBAAiB,QAAS,IAAM,CACrC,MAAMC,EAASD,EAAO,QAAQ,GAC9BN,EAAWO,EAAQ,UAAU,CACrC,CAAO,CACP,CAAK,CACL,MACId,EAAc,UAAYe,GAE9B,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,MAAMC,EAAcf,EADR,UACgC,EAC5CU,EAAWK,CAAW,CAExB,CAAC,EACD,SAASD,GAAsB,CAC7B,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,UAKC,SAAS;AAAA,UACT,SAAS;AAAA;AAAA;AAAA,UAGT,UAAU;AAAA,UACV,UAAU;AAAA;AAAA;AAAA,UAGV,SAAS;AAAA,UACT,SAAS;AAAA;AAAA;AAAA,UAGT,UAAU;AAAA,UACV,UAAU;AAAA;AAAA;AAAA,8CAG0B,SAAS;AAAA;AAAA,GAEpD"}