{"version":3,"file":"commonHelpers2.js","sources":["../src/js/fetchAPI.js","../src/js/homePage.js","../src/js/categories.js","../src/js/pop-up.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = `https://books-backend.p.goit.global/books`;\n\nconst backendAPI = {\n  getCategoryList: async function () {\n    try {\n      const response = await axios.get(`/category-list`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getBestSellers: async function () {\n    try {\n      const response = await axios.get(`/top-books`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getCategory: async function (selected) {\n    try {\n      const response = await axios.get(`/category?category=${selected}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n   getBookDescription: async function (id) {\n    try {\n      const response = await axios.get(`/${id}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n\nexport default backendAPI;\n","import backendAPI from './fetchAPI';\nimport { renderCategoryPage } from './categories';\n\nexport function renderTitle(containerClass, title) {\n  const container = document.querySelector(containerClass);\n  const words = title.split(' ');\n  const lastWord = words[words.length - 1];\n  words.pop();\n  title = words.join(' ');\n  container.insertAdjacentHTML(\n    'afterbegin',\n    `<h1 class=\"page-title\">${title} <span class=\"page-title-highlight\">${lastWord}</span></h1>`\n  );\n}\n\nexport function bookTemplate({ title, author, book_image, _id }) {\n  return `<li class=\"book-category-item\" data-id=\"${_id}\">\n    <div class = \"img-cover\">\n      <img class=\"book-category-image\" src=\"${book_image}\" alt=\"Book cover\" width=\"335\"  /> \n      <p class=\"overlay-text\">quick view</p>\n      </div>\n        <div class=\"book-category-text\">\n      <h3 class = \"book-title\">\n      ${title}</h3>\n      <p class = \"author-name\"> ${author}</p>\n    </div>\n </li>`;\n}\n\n\n// Рендер сторінки\n\nexport function renderBestBooks(bestBooks) {\n  const bestBooksContainer = document.querySelector('.bestsellers-container');\n  bestBooksContainer.innerHTML = '';\n  renderTitle('.bestsellers-container', 'Best Sellers Books');\n  bestBooksContainer.insertAdjacentHTML(\n    'beforeend',\n    `<ul class=\"bestsellers-list\"></ul>`\n  );\n  const bestBooksList = document.querySelector('.bestsellers-list');\n\n  const markup = bestBooks\n    .map(({ books, list_name }) => {\n      return `<li class=\"bestsellers-item\">\n              <h2 class=\"bestsellers-category-title\">${list_name}</h2>\n              <ul class=\"bestsellers-books-list\"> \n                ${books\n                  .map(({ title, author, book_image, _id }) => {\n                    return bookTemplate({ title, author, book_image, _id });\n                  })\n                  .join('\\n')}\n              </ul>\n              <button class=\"bestsellers-btn\" type=\"button\" data-category=\"${list_name}\">See more</button>\n            </li>`;\n    })\n    .join('\\n');\n\n  bestBooksList.insertAdjacentHTML('beforeend', markup);\n\n  const bestsellersList = document.querySelector('.bestsellers-list');\n  bestsellersList.addEventListener('click', onButtonClick);\n}\n\n// Функція для відображення Best Sellers Books\n\nexport async function BestsellersBooks() {\n  try {\n    const bestSellersData = await backendAPI.getBestSellers();\n    return renderBestBooks(bestSellersData);\n  } catch (error) {\n    console.error('Error fetching best sellers:', error);\n  }\n}\nBestsellersBooks();\n\n// Слухач на кнопку\n\nasync function onButtonClick(e) {\n  try{\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  let category = e.target.dataset.category;\n  const allCategoryItem = document.querySelector('.sidebar-category-item');\n  const sidebarCategoryList = document.querySelectorAll(\n    '.sidebar-category-item'\n  );\n\n  sidebarCategoryList.forEach(el => {\n    if (el.dataset.source === category) {\n      allCategoryItem.classList.remove('category-active');\n      el.classList.add('category-active');\n    }\n  });\n\n  const openCategory = await backendAPI.getCategory(category);\n    renderCategoryPage(openCategory, category);\n  } catch(error) {\n    console.log('Error fetching modal:', error); \n  }\n}\n","import backendAPI from './fetchAPI';\nimport { renderBestBooks } from './homePage';\n\nexport function renderTitle(containerClass, title) {\n  const container = document.querySelector(containerClass);\n  const words = title.split(' ');\n  const lastWord = words[words.length - 1];\n  words.pop();\n  title = words.join(' ');\n  container.insertAdjacentHTML(\n    'afterbegin',\n    `<h1 class=\"page-title\">${title} <span class=\"page-title-highlight\">${lastWord}</span></h1>`\n  );\n}\n\nexport function bookTemplate({ title, author, book_image, _id }) {\n  return `<li class=\"book-category-item\" data-id=\"${_id}\">\n    <div class = \"img-cover\">\n      <img class=\"book-category-image\" src=\"${book_image}\" alt=\"Book cover\" width=\"335\"  /> \n      <p class=\"overlay-text\">quick view</p>\n      </div>\n        <div class=\"book-category-text\">\n      <h3 class = \"book-title\">\n      ${title}</h3>\n      <p class = \"author-name\"> ${author}</p>\n    </div>\n </li>`;\n}\n\n\nexport function renderCategoryPage(books, category) {\n  const pageContainer = document.querySelector('.bestsellers-container');\n  pageContainer.innerHTML = '';\n  renderTitle('.bestsellers-container', category);\n  pageContainer.insertAdjacentHTML(\n    'beforeend',\n    '<ul class = \"book-category-list\"></ul>'\n  );\n  const categoryPage = document.querySelector('.book-category-list');\n  const markup = books\n    .map(({ author, book_image, title, _id }) => {\n      return bookTemplate({ author, book_image, title, _id });\n    })\n    .join('');\n\n  categoryPage.innerHTML = markup;\n  categoryPage.addEventListener('click', onClickBook);\n}\n\nconst categorySelectors = {\n  categoryContainer: document.querySelector('.sidebar-category-container'),\n  categoryList: document.querySelector('.sidebar-category-list'),\n  allCategory: document.querySelector('.all-category'),\n};\n\n//  Розмітка списку категорій\n\nfunction categoryMarkup(data) {\n  const result = data\n    .map(\n      item =>\n        `<li class='sidebar-category-item' data-source=\"${item.list_name}\">${item.list_name}</li>`\n    )\n    .join('');\n  return result;\n}\n\n(async () => {\n  try {\n    const categoryData = await backendAPI.getCategoryList();\n    const markup = categoryMarkup(categoryData);\n    categorySelectors.categoryList.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n  }\n})();\n\n\n// Слухачі подій\n\ncategorySelectors.allCategory.addEventListener('click', async event => {\n  try {\n    const bestBooksData = await backendAPI.getBestSellers();\n    renderBestBooks(bestBooksData);\n  } catch (error) {\n    console.log(error);\n  }\n});\n\ncategorySelectors.categoryList.addEventListener('click', async event => {\n  if (event.target.classList.contains('sidebar-category-item')) {\n    const category = event.target.dataset.source;\n\n    const categoryItems = document.querySelectorAll('.sidebar-category-item');\n    categoryItems.forEach(item => {\n      item.classList.remove('category-active');\n    });\n\n    event.target.classList.add('category-active');\n\n    try {\n      if (!event.target.classList.contains('all-category')) {\n        const categoryData = await backendAPI.getCategory(category);\n        renderCategoryPage(categoryData, category);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n});","import { LocalStorage } from './localStorage.js';\n\n\n\n  const modal = document.getElementById('modal');\n  const closeButton = document.querySelector('.modal-close');\n  const addToCartButton = document.querySelector('.modal-add-to-cart');\n  const amazonLogo = document.querySelector('.icon-link-amazon');\n  const appleLogo = document.querySelector('.icon-link-apple');\n  const localStorageInstance = new LocalStorage();\n\n  function openModal() {\n    modal.style.display = 'block';\n    document.body.style.overflow = 'hidden';\n    document.documentElement.style.overflow = 'hidden'; // Блокування прокрутки\n  }\n\n  function closeModal() {\n    modal.style.display = 'none';\n    document.body.style.overflow = 'auto';\n    document.documentElement.style.overflow = 'auto'; // Розблакування прокрутки\n  }\n\n  closeButton.addEventListener('click', closeModal);\n\n\n\n// document.addEventListener('DOMContentLoaded', function() {\n\n\n//   modal.addEventListener('click', function(event) {\n//     if (event.target === modal) {\n//       closeModal();\n//     }\n//   });\n\n//   document.addEventListener('keydown', function(event) {\n//     if (event.key === 'Escape') {\n//       closeModal();\n//     }\n//   });\n\n//   // Додайте обробники подій для кожного логотипу\n//   amazonLogo.addEventListener('click', function(event) {\n//     event.preventDefault(); // Зупиніть перехід за замовчуванням\n//     window.open(this.href, '_blank'); // Відкриття посилання у новій вкладці\n//   });\n\n//   appleLogo.addEventListener('click', function(event) {\n//     event.preventDefault(); // Зупиніть перехід за замовчуванням\n//     window.open(this.href, '_blank'); // Відкриття посилання у новій вкладці\n//   });\n\n//   // Функція для оновлення вмісту модального вікна\n//   function updateModal(book) {\n//     const bookCover = modal.querySelector('.modal-book-cover');\n//     const bookTitle = modal.querySelector('.modal-book-title');\n//     const author = modal.querySelector('.modal-author');\n//     const description = modal.querySelector('.modal-description');\n//     const links = modal.querySelector('.modal-links');\n\n//     bookCover.src = book.coverImageUrl;\n//     bookTitle.textContent = book.title;\n//     author.textContent = '' + book.author;\n//     description.textContent = book.description;\n\n//     // Очистити попередні посилання\n//     links.innerHTML = '';\n\n//     // Додати посилання на торгівельні майданчики\n//     book.links.forEach(function(link) {\n//       const anchor = document.createElement('a');\n//       anchor.href = link.url;\n//       anchor.target = '_blank';\n\n//       // Додайте зображення логотипу замість тексту посилання\n//       const logoImg = document.createElement('img');\n//       logoImg.src = link.logoUrl;\n//       logoImg.alt = link.name;\n//       anchor.appendChild(logoImg);\n\n//       links.appendChild(anchor);\n//     });\n\n//     // Перевірка, чи книга вже є в кошику\n//     const isInShoppingList = localStorageInstance.checkProduct(book.id).hasProd;\n\n//     if (isInShoppingList) {\n//       addToCartButton.textContent = 'Remove from Shopping List';\n//     } else {\n//       addToCartButton.textContent = 'Add to Shopping List';\n//     }\n//   }\n\n//   // Пошук книги\n//   const exampleBook = {\n//     id: 1,\n//     coverImageUrl: 'https://example.com/book-cover.jpg',\n//     title: 'Book Title',\n//     author: 'John Doe',\n//     description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n//     links: [\n//       { logoUrl: '/src/images/pop-up/amazon.svg', url: 'https://www.amazon.com' },\n//       { logoUrl: '/src/images/pop-up/apple.svg', url: 'https://books.apple.com' }\n//     ]\n//   };\n\n//   updateModal(exampleBook);\n// });"],"names":["axios","backendAPI","error","selected","id","renderTitle","containerClass","title","container","words","lastWord","bookTemplate","author","book_image","_id","renderBestBooks","bestBooks","bestBooksContainer","bestBooksList","markup","books","list_name","onButtonClick","BestsellersBooks","bestSellersData","category","allCategoryItem","el","openCategory","renderCategoryPage","pageContainer","categoryPage","categorySelectors","categoryMarkup","data","item","categoryData","event","bestBooksData","modal","closeButton","closeModal"],"mappings":"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"}