{"version":3,"file":"commonHelpers2.js","sources":["../src/js/fetchAPI.js","../src/js/homePage.js","../src/js/categories.js","../src/images/pop-up/amazon.webp","../src/images/pop-up/amazon.png","../src/images/pop-up/books.webp","../src/images/pop-up/books.png","../src/js/pop-up.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = `https://books-backend.p.goit.global/books`;\n\nconst backendAPI = {\n  getCategoryList: async function () {\n    try {\n      const response = await axios.get(`/category-list`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getBestSellers: async function () {\n    try {\n      const response = await axios.get(`/top-books`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getCategory: async function (selected) {\n    try {\n      const response = await axios.get(`/category?category=${selected}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n   getBookDescription: async function (id) {\n    try {\n      const response = await axios.get(`/${id}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n\nexport default backendAPI;\n","import backendAPI from './fetchAPI';\nimport { renderCategoryPage } from './categories';\n\nexport function renderTitle(containerClass, title) {\n  const container = document.querySelector(containerClass);\n  const words = title.split(' ');\n  const lastWord = words[words.length - 1];\n  words.pop();\n  title = words.join(' ');\n  container.insertAdjacentHTML(\n    'afterbegin',\n    `<h1 class=\"page-title\">${title} <span class=\"page-title-highlight\">${lastWord}</span></h1>`\n  );\n}\n\nexport function bookTemplate({ title, author, book_image, _id }) {\n  return `<li class=\"book-category-item\" data-id=\"${_id}\">\n    <div class = \"img-cover\">\n      <img class=\"book-category-image\" src=\"${book_image}\" alt=\"Book cover\" width=\"335\"  /> \n      <p class=\"overlay-text\">quick view</p>\n      </div>\n        <div class=\"book-category-text\">\n      <h3 class = \"book-title\">\n      ${title}</h3>\n      <p class = \"author-name\"> ${author}</p>\n    </div>\n </li>`;\n}\n\n\n// Рендер сторінки\n\nexport function renderBestBooks(bestBooks) {\n  const bestBooksContainer = document.querySelector('.bestsellers-container');\n  bestBooksContainer.innerHTML = '';\n  renderTitle('.bestsellers-container', 'Best Sellers Books');\n  bestBooksContainer.insertAdjacentHTML(\n    'beforeend',\n    `<ul class=\"bestsellers-list\"></ul>`\n  );\n  const bestBooksList = document.querySelector('.bestsellers-list');\n\n  const markup = bestBooks\n    .map(({ books, list_name }) => {\n      return `<li class=\"bestsellers-item\">\n              <h2 class=\"bestsellers-category-title\">${list_name}</h2>\n              <ul class=\"bestsellers-books-list\"> \n                ${books\n                  .map(({ title, author, book_image, _id }) => {\n                    return bookTemplate({ title, author, book_image, _id });\n                  })\n                  .join('\\n')}\n              </ul>\n              <button class=\"bestsellers-btn\" type=\"button\" data-category=\"${list_name}\">See more</button>\n            </li>`;\n    })\n    .join('\\n');\n\n  bestBooksList.insertAdjacentHTML('beforeend', markup);\n\n  const bestsellersList = document.querySelector('.bestsellers-list');\n  bestsellersList.addEventListener('click', onButtonClick);\n}\n\n// Функція для відображення Best Sellers Books\n\nexport async function BestsellersBooks() {\n  try {\n    const bestSellersData = await backendAPI.getBestSellers();\n    return renderBestBooks(bestSellersData);\n  } catch (error) {\n    console.error('Error fetching best sellers:', error);\n  }\n}\nBestsellersBooks();\n\n// Слухач на кнопку\n\nasync function onButtonClick(e) {\n  try{\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  let category = e.target.dataset.category;\n  const allCategoryItem = document.querySelector('.sidebar-category-item');\n  const sidebarCategoryList = document.querySelectorAll(\n    '.sidebar-category-item'\n  );\n\n  sidebarCategoryList.forEach(el => {\n    if (el.dataset.source === category) {\n      allCategoryItem.classList.remove('category-active');\n      el.classList.add('category-active');\n    }\n  });\n\n  const openCategory = await backendAPI.getCategory(category);\n    renderCategoryPage(openCategory, category);\n  } catch(error) {\n    console.log('Error fetching modal:', error); \n  }\n}\n","import backendAPI from './fetchAPI';\nimport { renderBestBooks } from './homePage';\n\nexport function renderTitle(containerClass, title) {\n  const container = document.querySelector(containerClass);\n  const words = title.split(' ');\n  const lastWord = words[words.length - 1];\n  words.pop();\n  title = words.join(' ');\n  container.insertAdjacentHTML(\n    'afterbegin',\n    `<h1 class=\"page-title\">${title} <span class=\"page-title-highlight\">${lastWord}</span></h1>`\n  );\n}\n\nexport function bookTemplate({ title, author, book_image, _id }) {\n  return `<li class=\"book-category-item\" data-id=\"${_id}\">\n    <div class = \"img-cover\">\n      <img class=\"book-category-image\" src=\"${book_image}\" alt=\"Book cover\" width=\"335\"  /> \n      <p class=\"overlay-text\">quick view</p>\n      </div>\n        <div class=\"book-category-text\">\n      <h3 class = \"book-title\">\n      ${title}</h3>\n      <p class = \"author-name\"> ${author}</p>\n    </div>\n </li>`;\n}\n\n\nexport function renderCategoryPage(books, category) {\n  const pageContainer = document.querySelector('.bestsellers-container');\n  pageContainer.innerHTML = '';\n  renderTitle('.bestsellers-container', category);\n  pageContainer.insertAdjacentHTML(\n    'beforeend',\n    '<ul class = \"book-category-list\"></ul>'\n  );\n  const categoryPage = document.querySelector('.book-category-list');\n  const markup = books\n    .map(({ author, book_image, title, _id }) => {\n      return bookTemplate({ author, book_image, title, _id });\n    })\n    .join('');\n\n  categoryPage.innerHTML = markup;\n  categoryPage.addEventListener('click', onClickBook);\n}\n\nconst categorySelectors = {\n  categoryContainer: document.querySelector('.sidebar-category-container'),\n  categoryList: document.querySelector('.sidebar-category-list'),\n  allCategory: document.querySelector('.all-category'),\n};\n\n//  Розмітка списку категорій\n\nfunction categoryMarkup(data) {\n  const result = data\n    .map(\n      item =>\n        `<li class='sidebar-category-item' data-source=\"${item.list_name}\">${item.list_name}</li>`\n    )\n    .join('');\n  return result;\n}\n\n(async () => {\n  try {\n    const categoryData = await backendAPI.getCategoryList();\n    const markup = categoryMarkup(categoryData);\n    categorySelectors.categoryList.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n  }\n})();\n\n\n// Слухачі подій\n\ncategorySelectors.allCategory.addEventListener('click', async event => {\n  try {\n    const bestBooksData = await backendAPI.getBestSellers();\n    renderBestBooks(bestBooksData);\n  } catch (error) {\n    console.log(error);\n  }\n});\n\ncategorySelectors.categoryList.addEventListener('click', async event => {\n  if (event.target.classList.contains('sidebar-category-item')) {\n    const category = event.target.dataset.source;\n\n    const categoryItems = document.querySelectorAll('.sidebar-category-item');\n    categoryItems.forEach(item => {\n      item.classList.remove('category-active');\n    });\n\n    event.target.classList.add('category-active');\n\n    try {\n      if (!event.target.classList.contains('all-category')) {\n        const categoryData = await backendAPI.getCategory(category);\n        renderCategoryPage(categoryData, category);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n});","export default \"data:image/webp;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/webp;base64,UklGRuwDAABXRUJQVlA4WAoAAAAQAAAAJQAAIwAAQUxQSPoAAAABgHPbtqnnxq5sVxmp7M5m51+Q/AKnMjrbqWzbqVjZtt57n7/zvnuiOiImgPwLLZP91fGM8x9EzKQHkkX5k0iWGfOkp+RQ/yqCmXEfSuZNbyL+7IwfBaOKJ5Hi7EKQEj/DkjsRXeF2OA+ltBsRfSYDchaIMI91gDwR6p0F0IXzYA1049xbAI1IlkA6zqMd4IbDBAEWOKJGQEuAs6cqjzzhXJsARzh35sAGzoU+0IezogTkorynElCv6pmaYC1GCSLEsfaZCreZqk4UdGp5VojbTFYjFN1aX3lxmylqhLJnL4/9BDWC6DksZytRjSD79gr345XJN9RVJv9BVlA4IMwCAADwEACdASomACQAAAAAJaQATjP8IP1u7Ezq56cfrlllnm/4d/sz/s9QR/TvxZ/Zn/M5w18I/nn4n/tz/jtkP/D/55+IuyEfw/+wfib7Vv7d+IHqy/AP51/a/xc+gH+EfxL+ef1j9b/7D/yuUI/R75/z0P8MQYgsdyb8IqLyiOAj3jgTBInG9g2laZrXuPxB3FAA/v//xRLyEHg0def/2rX/6cS55//USMjrtXm+w63okqMEW5hkU7kVYPWS9m6Txet+3+RTMPxHDyEjOAzXM8ABFFRd83FUK84h+tCoIEjDONSx5nDzbiENFnyzhumin4d6cDXV7gz3LvzuyoJK8/0cua8lCtbwoVITr3LC3p7F54mHhUJf//zkpshPB2Xp1XV2h2OAL7zhGZ0oDZVa7VKh/xCHwaa46vQcUnvXWD3TmHsBo/7zBht8Aho1ba7x2djFfgVf//SGmNVhpw0r6odKPMz0XGLgErhaAYX/XzbcHPqZAYk/pXMxll9wPLWhwjpMd94nNIWKY70KyRZj+/hK+MFzomTZf0s/3v0Lcdwx3YqIhasUngFFwygzUC8YTxb3tiO02TRGc5P/7xYyaa/dqo0Ip4Z8jkfsTpa9oJycU2RI7Ia2pHdHtT+oq0DQgnGyCD3mOf4SoX9/uhxR57A05Sdd4CiuSGqZEnaac/GGoL3W4fW/HfhRglfPivbrC7t89IwP1YhnoJRxdNZ1QNccNb7cSuhQXQ/76Yv96ks7HzcYwaFOaDpmP8+HXQhpIRRqX/iyaZV///8gJHZgKZYBY19ndEcBTCNsXBSPcb30UCJTfMArDXF8+6TVB6GSBCGBpAf/96J4miSJJrIboazsk6MTo9uP/1GO+zQ6mRa/4I2gWqqHZHUXNTGxr74K//++UwxfixnGZj9NryCJo7M4a7nwaVGgJz5t5QTc2l+RcXFHOqSH/2qNQAAAAA==\"","export default \"data:image/png;base64,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\"","import amazon from '../images/pop-up/amazon.webp';\nimport amazonpng from '../images/pop-up/amazon.png';\nimport apple from '../images/pop-up/books.webp';\nimport applepng from '../images/pop-up/books.png';\nimport backendAPI from './fetchAPI';\n\nconst backdrop = document.querySelector('.modal');\nconst closeBtn = document.querySelector('.modal-close');\nconst modalShoppingBtn = document.querySelector('.modal-add-to-cart');\nconst container = document.querySelector('.modal-card');\n\nlet bookApi = {};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  addListener();\n});\n\nfunction addListener() {\n  document.addEventListener('click', (event) => {\n    const clickedBook = event.target.closest('.book-category-item');\n    if (clickedBook) {\n      const bookId = clickedBook.dataset.id;\n      console.log('Selected Book ID:', bookId);\n      onOpenModalWindow(event);\n    }\n  });\n}\n\nasync function onOpenModalWindow(event) {\n  document.body.style.overflow = 'hidden';\n  backdrop.classList.remove('is-hidden');\n  backdrop.addEventListener('click', onBackdrop);\n  window.addEventListener('keydown', onEsc);\n  closeBtn.addEventListener('click', onCloseModalWindow);\n  try {\n    const bookContainer = event.target.closest('.book-category-item');\n    if (!bookContainer) {\n      console.error(\"Book container element not found!\");\n      return;\n    }\n    const bookId = bookContainer.dataset.id;\n    bookApi = await backendAPI.getBookDescription(bookId);\n    createBookMarkup(bookApi);\n    setTimeout(() => {\n      createShoppingBtn(bookApi);\n      modalShoppingBtn.addEventListener('click', onUpdateShopList);\n    }, 0);\n  } catch (error) {\n    console.log('помилка', error);\n  }\n}\n\nasync function createShoppingBtn(data) {\n  const storage = await load('bookList');\n  if (!storage || storage.length === 0) {\n    addBtn();\n    return;\n  }\n\n  const addedBook = storage.find(book => book._id === data.id);\n\n  if (addedBook) {\n    removeBtn();\n  } else {\n    addBtn();\n  }\n}\n\nfunction onUpdateShopList() {\n  const storage = load('bookList');\n  // const id = document.querySelector('.modal-book-name').textContent;\n  if (modalShoppingBtn.textContent === 'add to shopping list') {\n    addBookToStorage(bookApi);\n    removeBtn();\n  } else {\n    storage.forEach((book, ind, arr) => {\n      if (book._id === id) {\n        return arr.splice(ind, 1);\n      }\n    });\n\n    save('bookList', storage);\n    if (storage.length === 0) {\n      remove('bookList');\n    }\n    addBtn();\n  }\n}\n\n\nfunction addBtn() {\n  modalShoppingBtn.textContent = 'add to shopping list';\n  // Додайте код для modalInfo, якщо це необхідно\n}\nfunction removeBtn() {\n  modalShoppingBtn.textContent = 'remove from the shopping list';\n  // Додайте код для modalInfo, якщо це необхідно\n}\nfunction createBookMarkup(book) {\n  const container = document.querySelector('.modal-card');\n  if (!container) {\n    console.error(\"Container element not found!\");\n    return;\n  }\n  const markup = `\n    <img class=\"modal-book-cover\" src=${book.book_image} alt=\"Book cover\"/>\n    <div class=\"modal-blok-text\">\n      <p class=\"modal-book-title\">${book.title}</p>\n      <p class=\"modal-author\">${book.author}</p>\n      <p class=\"modal-description\">${book.description}</p>\n      <div class=\"modal-links\">\n        <a href=\"${book.buy_links[0].url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <picture class=\"modal-icon\">\n            <source srcset=\"${amazon}\" type=\"image/webp\"/>\n            <source srcset=\"${amazonpng}\" type=\"image/png\"/>\n            <img src=\"${amazonpng}\" alt=\"Amazon\"/>\n          </picture>\n        </a>\n        <a href=\"${book.buy_links[1].url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <picture class=\"modal-icon\">\n            <source srcset=\"${apple}\" type=\"image/webp\"/>\n            <source srcset=\"${applepng}\" type=\"image/png\"/>\n            <img src=\"${applepng}\" alt=\"Apple Books\"/>\n          </picture>\n        </a>\n      </div>\n    </div>`;\n  container.innerHTML = markup;\n}\nfunction onEsc(event) {\n  if (event.key === 'Escape') {\n    onCloseModalWindow();\n  }\n}\nfunction onBackdrop(event) {\n  if (event.target === backdrop) {\n    onCloseModalWindow();\n  }\n}\nfunction onCloseModalWindow() {\n  backdrop.classList.add('is-hidden');\n  document.body.style.overflow = 'visible';\n  backdrop.removeEventListener('click', onBackdrop);\n  window.removeEventListener('keydown', onEsc);\n  closeBtn.removeEventListener('click', onCloseModalWindow);\n}\n\nconst addBookToStorage = book => {\n  const bookStorage = load('bookList') || [];\n  const { title, list_name, description, author, book_image } = book;\n  const bookInfo = {\n      title,\n      list_name,\n      description,\n      author,\n      book_image,\n      amazon: book.buy_links[0].url,\n      apple: book.buy_links[1].url,\n      bookShop: book.buy_links[4].url,\n  }\n  if (bookStorage.length !== 0) {\n    const bookInStorage = bookStorage.find(book => book._id === bookInfo.id);\n    \n    if (!bookInStorage) {\n      bookStorage.push(bookInfo);\n      save('bookList', bookStorage);\n    }\n    return;\n  }\n  bookStorage.push(bookInfo);\n\n  save('bookList', bookStorage);\n}\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};"],"names":["axios","backendAPI","error","selected","id","renderTitle","containerClass","title","container","words","lastWord","bookTemplate","author","book_image","_id","renderBestBooks","bestBooks","bestBooksContainer","bestBooksList","markup","books","list_name","onButtonClick","BestsellersBooks","bestSellersData","category","allCategoryItem","el","openCategory","renderCategoryPage","pageContainer","categoryPage","categorySelectors","categoryMarkup","data","item","categoryData","event","bestBooksData","amazon","amazonpng","apple","applepng","backdrop","closeBtn","modalShoppingBtn","bookApi","addListener","clickedBook","bookId","onOpenModalWindow","onBackdrop","onEsc","onCloseModalWindow","bookContainer","createBookMarkup","createShoppingBtn","onUpdateShopList","storage","load","addBtn","book","removeBtn","addBookToStorage","ind","arr","save","remove","bookStorage","description","bookInfo","key","value","serializedState"],"mappings":"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"}